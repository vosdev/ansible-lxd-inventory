# LXD Ansible Dynamic Inventory Configuration
# See README.md for detailed documentation and advanced examples

# Global defaults - apply to all endpoints unless overridden
global_defaults:
  # SSL/TLS settings
  verify_ssl: false
  cert_path: "/home/user/.config/lxc/client.crt"
  key_path: "/home/user/.config/lxc/client.key"
  ca_cert_path: "/home/user/.config/lxc/ca.crt"
  
  # Hostname format: {name}, {project}, {endpoint}, {type}, {status}
  hostname_format: "{name}"
  
  # Default filters
  filters:
    status: [running, stopped, frozen, error]
    type: [container, virtual-machine]
    projects: [all]
    exclude_projects: []
    profiles: []
    tags: {}
    ignore_interfaces: [lo, docker0, cilium_host, cilium_vxlan, cilium_net, lxdbr0]
    prefer_ipv6: false
    exclude_names: []

# LXD endpoints configuration
lxd_endpoints:
  # Local LXD via Unix socket
  local:
    endpoint: "unix:///var/lib/lxd/unix.socket"
    hostname_format: "{name}.local"
    filters:
      projects: [default]
  
  # Remote LXD server
  production:
    endpoint: "https://lxd-prod.example.com:8443"
    verify_ssl: true
    hostname_format: "{name}.{project}.prod"
    filters:
      projects: [production]
      exclude_projects:
        - backup
      tags:
        user.ansible: "true"            # Include instances with user.ansible=true
        "user.ansible!=": "false"       # Exclude instances with user.ansible=false
        "user.maintenance!=": "true"    # Exclude maintenance instances

# Common tag filtering examples:
# 
# Exclude instances with user.ansible=false:
#   tags:
#     "user.ansible!=": "false"
#
# Only production environment:
#   tags:
#     user.environment: "production"
#
# Multiple requirements:
#   tags:
#     user.ansible: "true"
#     user.environment: "production"  
#     "user.backup!=": "true"